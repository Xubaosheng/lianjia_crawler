!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.drawChart=function(t,e,i,n){var s=echarts.init(document.getElementById("chart")),c={tooltip:{trigger:"axis"},legend:{data:["平均","最低","最高"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t}],yAxis:[{type:"value",name:"万元/平米"}],series:[{name:"平均",type:"line",data:n},{name:"最低",type:"line",data:i},{name:"最高",type:"line",data:e}]};s.setOption(c);var r=function(){$(window).width()<768?$("#chart").css("width",$(window).width()-60+"px"):$("#chart").css("width",$(window).width()-200+"px"),s.resize()};r(),window.onresize=r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(t,e,i){this.request("GET",t,e,i)},post:function(t,e,i){this.request("POST",t,e,i)},request:function(t,e,i,n){$("#loading").css("display","block"),$.ajax({type:t,url:e,dataType:"json",data:i,async:!0,success:function(t){n(t),$("#loading").css("display","none")},error:function(){n(null),$("#loading").css("display","none")}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getDate=function(t){var e=new Date;return e.setTime(1e3*t),e.toLocaleDateString()}},function(t,e,i){"use strict";var n=i(1),s=function(t){return t&&t.__esModule?t:{default:t}}(n),c=i(0),r=i(2);new Vue({el:"#app",data:{districts:[],selected_district:"",selected_location:"",locations:[]},computed:{selectedDistrict:{get:function(){return this.selected_district},set:function(t){this.selected_district=t;for(var e=0;e<this.districts.length;e++)this.selected_district==this.districts[e].name&&(this.locations=JSON.parse(this.districts[e].locations),this.selectedLocation=this.locations[0])}},selectedLocation:{get:function(){return this.selected_location},set:function(t){this.selected_location=t,this.getSum()}}},ready:function(){this.getDistricts()},methods:{getDistricts:function(){var t=this;s.default.get("/api/districts",{},function(e){null!=e&&(t.districts=e,t.selectedDistrict=t.districts[0].name)})},getSum:function(){s.default.get("/api/sum",{location:this.selected_location},function(t){if(null!=t){var e=[],i=[],n=[],s=[];t.forEach(function(t){e.push((0,r.getDate)(t.time)),i.push(t.max),n.push(t.min),s.push(t.avg)}),(0,c.drawChart)(e,i,n,s)}else alert("Error Occurred")})}}})}]);